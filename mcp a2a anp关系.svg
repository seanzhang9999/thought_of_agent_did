<svg width="1600" height="1200" viewBox="0 0 1600 1200" xmlns="http://www.w3.org/2000/svg">
  <!-- 背景渐变 -->
  <defs>
    <!-- 背景渐变 -->
    <linearGradient id="bgGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#1e3c72;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#2a5298;stop-opacity:1" />
    </linearGradient>
    
    <!-- 容器背景 -->
    <linearGradient id="containerBg" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f8f9fa;stop-opacity:0.95" />
      <stop offset="100%" style="stop-color:#e9ecef;stop-opacity:0.95" />
    </linearGradient>
    
    <!-- Agent渐变 -->
    <linearGradient id="agentGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f6d365;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fda085;stop-opacity:1" />
    </linearGradient>
    
    <!-- MCP资源渐变 -->
    <linearGradient id="mcpGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#4facfe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <!-- ANP网络渐变 -->
    <linearGradient id="anpGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#667eea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <!-- 底层资源渐变 -->
    <linearGradient id="resourceGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#a8edea;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fed6e3;stop-opacity:1" />
    </linearGradient>
    
    <!-- 连接线渐变 -->
    <linearGradient id="connectionGradient1" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#764ba2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fda085;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="connectionGradient2" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#fda085;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#00f2fe;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="connectionGradient3" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#00f2fe;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#764ba2;stop-opacity:1" />
    </linearGradient>
    
    <linearGradient id="connectionGradient4" x1="0%" y1="0%" x2="0%" y2="100%">
      <stop offset="0%" style="stop-color:#764ba2;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#fed6e3;stop-opacity:1" />
    </linearGradient>
    
    <!-- 阴影滤镜 -->
    <filter id="shadow" x="-50%" y="-50%" width="200%" height="200%">
      <feDropShadow dx="0" dy="5" stdDeviation="3" flood-color="#000" flood-opacity="0.3"/>
    </filter>
    
    <!-- 标签背景渐变 -->
    <linearGradient id="labelGradient" x1="0%" y1="0%" x2="100%" y2="100%">
      <stop offset="0%" style="stop-color:#f093fb;stop-opacity:1" />
      <stop offset="100%" style="stop-color:#f5576c;stop-opacity:1" />
    </linearGradient>
  </defs>
  
  <!-- 背景 -->
  <rect width="1600" height="1200" fill="url(#bgGradient)"/>
  
  <!-- 容器 -->
  <rect x="50" y="50" width="1500" height="1100" rx="20" fill="url(#containerBg)" stroke="none" filter="url(#shadow)"/>
  
  <!-- 标题 -->
  <text x="800" y="120" text-anchor="middle" font-family="Arial, sans-serif" font-size="36" font-weight="bold" fill="#2c3e50">
    Agent间A2A-MCP-ANP完整架构
  </text>
  
  <!-- 图表区域背景 -->
  <rect x="100" y="180" width="1400" height="900" rx="15" fill="url(#containerBg)" stroke="#bdc3c7" stroke-width="2" stroke-dasharray="10,5"/>
  
  <!-- 协议层级标识 -->
  <g font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">
    <rect x="120" y="230" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="254" text-anchor="middle">A2A层</text>
    
    <rect x="120" y="320" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="344" text-anchor="middle">ANP层</text>
    
    <rect x="120" y="420" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="444" text-anchor="middle">Agent层</text>
    
    <rect x="120" y="580" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="604" text-anchor="middle">MCP层</text>
    
    <rect x="120" y="730" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="754" text-anchor="middle">ANP层</text>
    
    <rect x="120" y="860" width="100" height="40" rx="8" fill="rgba(52, 73, 94, 0.9)"/>
    <text x="170" y="884" text-anchor="middle">资源层</text>
  </g>
  
  <!-- 连接线 -->
  <!-- Agent A和Agent B之间的横向连接线 -->
  <rect x="500" y="478" width="600" height="4" fill="url(#connectionGradient1)"/>
  
  <!-- 垂直连接线 -->
  <rect x="398" y="540" width="4" height="80" fill="url(#connectionGradient2)"/>
  <rect x="1198" y="540" width="4" height="80" fill="url(#connectionGradient2)"/>
  
  <!-- ANP垂直连接线 -->
  <rect x="398" y="680" width="4" height="50" fill="url(#connectionGradient3)"/>
  <rect x="1198" y="680" width="4" height="50" fill="url(#connectionGradient3)"/>
  
  <!-- 底层连接线 -->
  <rect x="398" y="810" width="4" height="50" fill="url(#connectionGradient4)"/>
  <rect x="1198" y="810" width="4" height="50" fill="url(#connectionGradient4)"/>
  
  <!-- 箭头 -->
  <g>
    <!-- Agent间横向协作箭头 -->
    <polygon points="960,474 972,480 960,486" fill="#f5576c"/>
    <polygon points="640,474 628,480 640,486" fill="#f5576c"/>
    
    <!-- 垂直箭头 -->
    <polygon points="394,615 400,627 406,615" fill="#00f2fe"/>
    <polygon points="1194,615 1200,627 1206,615" fill="#00f2fe"/>
    
    <!-- ANP箭头 -->
    <polygon points="394,725 400,737 406,725" fill="#764ba2"/>
    <polygon points="1194,725 1200,737 1206,725" fill="#764ba2"/>
    
    <!-- 底层箭头 -->
    <polygon points="394,855 400,867 406,855" fill="#fed6e3"/>
    <polygon points="1194,855 1200,867 1206,855" fill="#fed6e3"/>
  </g>
  
  <!-- Agent 节点 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="white">
    <rect x="300" y="420" width="200" height="120" rx="15" fill="url(#agentGradient)" stroke="#ff6b6b" stroke-width="3" filter="url(#shadow)"/>
    <text x="400" y="465" text-anchor="middle" font-size="20">Agent A</text>
    <text x="400" y="485" text-anchor="middle" font-size="14" opacity="0.9">AI协作节点</text>
    
    <rect x="1100" y="420" width="200" height="120" rx="15" fill="url(#agentGradient)" stroke="#ff6b6b" stroke-width="3" filter="url(#shadow)"/>
    <text x="1200" y="465" text-anchor="middle" font-size="20">Agent B</text>
    <text x="1200" y="485" text-anchor="middle" font-size="14" opacity="0.9">AI协作节点</text>
  </g>
  
  <!-- ANP 横向网络 (移到A2A层下面) -->
  <rect x="550" y="320" width="300" height="60" rx="10" fill="url(#anpGradient)" stroke="#5a67d8" stroke-width="2" filter="url(#shadow)"/>
  <text x="700" y="340" text-anchor="middle" font-family="Arial, sans-serif" font-size="16" font-weight="bold" fill="white">ANP横向网络</text>
  <text x="700" y="360" text-anchor="middle" font-family="Arial, sans-serif" font-size="12" fill="white" opacity="0.9">Agent间可信认证</text>
  
  <!-- MCP 资源 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="white">
    <rect x="310" y="580" width="180" height="100" rx="12" fill="url(#mcpGradient)" stroke="#0bc5ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="400" y="615" text-anchor="middle" font-size="16">MCP资源A</text>
    <text x="400" y="635" text-anchor="middle" font-size="12" opacity="0.9">可信计算资源</text>
    
    <rect x="1110" y="580" width="180" height="100" rx="12" fill="url(#mcpGradient)" stroke="#0bc5ea" stroke-width="2" filter="url(#shadow)"/>
    <text x="1200" y="615" text-anchor="middle" font-size="16">MCP资源B</text>
    <text x="1200" y="635" text-anchor="middle" font-size="12" opacity="0.9">可信计算资源</text>
  </g>
  
  <!-- ANP 垂直层 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="white">
    <rect x="320" y="730" width="160" height="80" rx="10" fill="url(#anpGradient)" stroke="#5a67d8" stroke-width="2" filter="url(#shadow)"/>
    <text x="400" y="755" text-anchor="middle" font-size="14">ANP垂直</text>
    <text x="400" y="775" text-anchor="middle" font-size="12" opacity="0.9">可信链路A</text>
    
    <rect x="1120" y="730" width="160" height="80" rx="10" fill="url(#anpGradient)" stroke="#5a67d8" stroke-width="2" filter="url(#shadow)"/>
    <text x="1200" y="755" text-anchor="middle" font-size="14">ANP垂直</text>
    <text x="1200" y="775" text-anchor="middle" font-size="12" opacity="0.9">可信链路B</text>
  </g>
  
  <!-- 底层资源 -->
  <g font-family="Arial, sans-serif" font-weight="bold" fill="#2c3e50">
    <rect x="330" y="860" width="140" height="80" rx="10" fill="url(#resourceGradient)" stroke="#48cae4" stroke-width="2" filter="url(#shadow)"/>
    <text x="400" y="885" text-anchor="middle" font-size="14">底层资源A</text>
    <text x="400" y="905" text-anchor="middle" font-size="12" opacity="0.8">基础设施</text>
    
    <rect x="1130" y="860" width="140" height="80" rx="10" fill="url(#resourceGradient)" stroke="#48cae4" stroke-width="2" filter="url(#shadow)"/>
    <text x="1200" y="885" text-anchor="middle" font-size="14">底层资源B</text>
    <text x="1200" y="905" text-anchor="middle" font-size="12" opacity="0.8">基础设施</text>
  </g>
  
  <!-- 标签 -->
  <g font-family="Arial, sans-serif" font-weight="bold">
    <!-- A2A标签 -->
    <rect x="620" y="230" width="160" height="30" rx="8" fill="url(#labelGradient)" filter="url(#shadow)"/>
    <text x="700" y="249" text-anchor="middle" font-size="12" fill="white">A2A横向协作 (OTT传输)</text>
    
    <!-- ANP横向标签 -->
    <rect x="620" y="290" width="160" height="25" rx="8" fill="url(#anpGradient)" filter="url(#shadow)"/>
    <text x="700" y="306" text-anchor="middle" font-size="12" fill="white">ANP横向可信连接</text>
    
    <!-- MCP标签 -->
    <rect x="220" y="540" width="120" height="30" rx="8" fill="rgba(255, 255, 255, 0.95)" stroke="#bdc3c7" filter="url(#shadow)"/>
    <text x="280" y="559" text-anchor="middle" font-size="12" fill="#2c3e50">MCP垂直调用</text>
    
    <rect x="1260" y="540" width="120" height="30" rx="8" fill="rgba(255, 255, 255, 0.95)" stroke="#bdc3c7" filter="url(#shadow)"/>
    <text x="1320" y="559" text-anchor="middle" font-size="12" fill="#2c3e50">MCP垂直调用</text>
    
    <!-- ANP垂直标签 -->
    <rect x="150" y="690" width="140" height="30" rx="8" fill="rgba(255, 255, 255, 0.95)" stroke="#bdc3c7" filter="url(#shadow)"/>
    <text x="220" y="709" text-anchor="middle" font-size="12" fill="#2c3e50">ANP垂直可信链路</text>
    
    <rect x="1310" y="690" width="140" height="30" rx="8" fill="rgba(255, 255, 255, 0.95)" stroke="#bdc3c7" filter="url(#shadow)"/>
    <text x="1380" y="709" text-anchor="middle" font-size="12" fill="#2c3e50">ANP垂直可信链路</text>
  </g>
  
  <!-- 说明文字 -->
  <g font-family="Arial, sans-serif" fill="#2c3e50">
    <text x="150" y="1140" font-size="16" font-weight="bold">🤝 A2A横向协作:</text>
    <text x="300" y="1140" font-size="14">Agent A和Agent B通过A2A协议进行横向协作，Task通过OTT传输</text>
    
    <text x="950" y="1140" font-size="16" font-weight="bold">🔌 MCP垂直调用:</text>
    <text x="1100" y="1140" font-size="14">Agent通过MCP协议调用可信计算资源</text>
    
    <text x="150" y="1170" font-size="16" font-weight="bold">🌐 ANP双重服务:</text>
    <text x="300" y="1170" font-size="14">横向为Agent间提供可信认证连接；垂直为资源提供可信链路</text>
  </g>
</svg>